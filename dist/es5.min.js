"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var isFactory=function(r){return"function"==typeof r},isPropKey=function(r){return"string"==typeof r};function mapFactory(a){return a?function(r){var e,t={};for(e in a){var o=a[e],n=r[e];if(!0===o)t[e]=n;else if(isPropKey(o))t[e]=r[o];else if(isFactory(o))t[e]=o(r,t);else if("object"==typeof o)for(var i in o){var s=r[i];t[e]=o[i](null==s?n:s);break}}return t}:mapFactory}function mapTypes(r,e){return r&&e?mapFactory(e)(r):mapTypes}function Convertable(i,o){function r(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];var o,n=i.apply(void 0,e)(r);for(o in n)this[o]=n[o]}return r.toInput=o?function(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return o.apply(void 0,e)(r)}:void 0,r.createConverter=i,r.reverseConverter=o,r}var isPromise=function(r){return r instanceof Promise},isPromiseArr=function(r){return Array.isArray(r)&&r.some(isPromise)};function flattenPromises(o){function r(e){function r(r){return r.then(function(r){o[e]=r})}var t=o[e];isPromise(t)?n.push(r(t)):isPromiseArr(t)&&n.push(r(Promise.all(t)))}var e,n=[];for(e in o)r(e);return Promise.all(n).then(function(r){return o})}function wait(e){return function(r){return flattenPromises(e(r))}}exports.Convertable=Convertable,exports.flattenPromises=flattenPromises,exports.isFactory=isFactory,exports.isPropKey=isPropKey,exports.mapFactory=mapFactory,exports.mapTypes=mapTypes,exports.wait=wait;
//# sourceMappingURL=es5.min.js.map
