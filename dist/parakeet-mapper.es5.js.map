{"version":3,"file":"parakeet-mapper.es5.js","sources":["../src/index.ts"],"sourcesContent":["export function mapFactory<\n  I extends object,\n  O extends object\n>(FieldMap: TypeMap<I, O>): (input: I) => O {\n  return (input: I) => {\n    if (\n      !FieldMap ||\n      Array.isArray(FieldMap) ||\n      !Object.keys(FieldMap).length\n    ) {\n      return {} as O;\n    }\n\n    const result: Partial<O> = {};\n    for (const key in FieldMap) {\n      if (typeof FieldMap[key] === 'boolean' && FieldMap[key]) {\n        result[key] = input[key as string] as any;\n        continue;\n      }\n\n      if (typeof FieldMap[key] === 'string') {\n        result[key] = input[FieldMap[key as string]] as any;\n        continue;\n      }\n\n      if (typeof FieldMap[key] === 'function') {\n        let mapperValue = (FieldMap[key] as Function)(input);\n        result[key] = mapperValue;\n        continue;\n      }\n    }\n\n    return result as O;\n  };\n}\n\nexport function mapTypes<\n  I extends object,\n  O extends object,\n>(input: I, FieldMap: TypeMap<I, O>): O {\n  return mapFactory(FieldMap)(input);\n}\n\nexport type TypeMap<\n  I extends object = any,\n  O extends object = any\n> = {\n  /**\n   * if has function - map by funciton\n   * if true - map straight without changes\n   * if false - do not map\n   */\n    [key in keyof Partial<O>]: boolean | keyof Partial<I> | ((obj: I) => O[key]);\n};\n"],"names":[],"mappings":";;;;SAAgB,UAAU,CAGxB,QAAuB;IACvB,OAAO,UAAC,KAAQ;QACd,IACE,CAAC,QAAQ;YACT,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC;YACvB,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,MAAM,EAC7B;YACA,OAAO,EAAO,CAAC;SAChB;QAED,IAAM,MAAM,GAAe,EAAE,CAAC;QAC9B,KAAK,IAAM,GAAG,IAAI,QAAQ,EAAE;YAC1B,IAAI,OAAO,QAAQ,CAAC,GAAG,CAAC,KAAK,SAAS,IAAI,QAAQ,CAAC,GAAG,CAAC,EAAE;gBACvD,MAAM,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC,GAAa,CAAQ,CAAC;gBAC1C,SAAS;aACV;YAED,IAAI,OAAO,QAAQ,CAAC,GAAG,CAAC,KAAK,QAAQ,EAAE;gBACrC,MAAM,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC,QAAQ,CAAC,GAAa,CAAC,CAAQ,CAAC;gBACpD,SAAS;aACV;YAED,IAAI,OAAO,QAAQ,CAAC,GAAG,CAAC,KAAK,UAAU,EAAE;gBACvC,IAAI,WAAW,GAAI,QAAQ,CAAC,GAAG,CAAc,CAAC,KAAK,CAAC,CAAC;gBACrD,MAAM,CAAC,GAAG,CAAC,GAAG,WAAW,CAAC;gBAC1B,SAAS;aACV;SACF;QAED,OAAO,MAAW,CAAC;KACpB,CAAC;CACH;AAED,SAAgB,QAAQ,CAGtB,KAAQ,EAAE,QAAuB;IACjC,OAAO,UAAU,CAAC,QAAQ,CAAC,CAAC,KAAK,CAAC,CAAC;CACpC;;;;;"}